# Deployment & Server Management Rules

## ⚠️ CRITICAL: Always Apply Changes Through Terminal

**After making ANY code changes, you MUST:**

1. **Restart affected servers** to apply changes
2. **Verify servers are running** after restart
3. **Test the changes** to ensure they work

## Server Restart Checklist

### Backend Server (Port 3001)
```bash
# Kill existing processes
pkill -f "ts-node-dev.*server.ts"

# Restart backend
cd backend
npm run dev
```

### Frontend Server (Port 3003)
```bash
# Kill existing processes  
lsof -ti:3003 | xargs kill -9

# Restart frontend
cd web-user
npm run dev
```

### Verification Commands
```bash
# Check backend health
curl http://localhost:3001/health

# Check if servers are running
lsof -ti:3001 && echo "Backend running" || echo "Backend not running"
lsof -ti:3003 && echo "Frontend running" || echo "Frontend not running"
```

## Common Issues

### Multiple Server Instances
If you see multiple processes, kill all of them:
```bash
pkill -f "ts-node-dev.*server.ts"
pkill -f "vite"
```

### Port Already in Use
```bash
# Find and kill process on port
lsof -ti:3001 | xargs kill -9
lsof -ti:3003 | xargs kill -9
```

## Remember
- ✅ **Code changes don't apply automatically** - servers must be restarted
- ✅ **Always verify** servers are running after restart
- ✅ **Check logs** if something doesn't work
- ✅ **Test immediately** after restarting

